Practical No. 8
Aim: Develop a five page web application site using any two or three Java EE Technologies.
Files Used:
index.jsp
LoginServlet.java
Fail.jsp
ViewLog.jsp
jstlDemo.jsp
HomeServlet.java
Bean.java
Code:
index.jsp
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%
application.setAttribute("user","Guest");
session.setAttribute("country","India");
%>
<!DOCTYPE html>
<html>
<head><title>Login Form</title></head>
<body>
<form action="LoginServlet">
Enter User ID<input type="text" name="txtId"><br>
Enter Password<input type="password" name="txtPass"><br>
<input type="reset">
<input type="submit" value="<< Click to Login >>" >
</form>
</body>
</html>
LoginServlet.java
package demoA;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class LoginServlet extends HttpServlet {
protected void service(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {
response.setContentType("text/html;charset=UTF-8");
PrintWriter out = response.getWriter(); out.println("");
out.println("");
String uname = request.getParameter("txtId");
String upass = request.getParameter("txtPass");
if(uname.equals("admin") && upass.equals("servlet")){
RequestDispatcher rd = request.getRequestDispatcher("jstlDemo.jsp");
rd.forward(request, response);
}
else{ RequestDispatcher rd = request.getRequestDispatcher("Fail.jsp");
rd.include(request, response);
}
out.println("</body>");
out.println("</html>");
}
}
Fail.jsp
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JSP Page</title>
</head>
<body>
<h1>Login Failed!!!</h1>
<b> ${param.ufname} ${param.ulname}</b>
<p>Author Name:<b>${applicationScope.user}</b></p>
<p>Country Name:<b>${sessionScope.country}</b></p>
<a href="ViewLog.jsp">Click to view details</a>
</body>
</html>
ViewLog.jsp
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JSP Page</title>
</head>
<body>
<h1>Request Object </h1>
Context Path <%=request.getContextPath() %><br>
Remote Host <%=request.getRemoteHost() %><br>
<h1>Response Object </h1>
Character Encoding Type <%=response.getCharacterEncoding() %><br>
Content Type<%=response.getContentType() %><br>
Locale<%=response.getLocale() %><br>
<h1>Session Object </h1>
ID <%=session.getId() %><br>
Creation Time <%=new java.util.Date(session.getCreationTime()) %><br>
Last Access Time<%=new java.util.Date(session.getLastAccessedTime())
%><br>
</body>
</html>
jstlDemo.jsp
<%@taglib prefix="f" uri="http://java.sun.com/jstl/core_rt"%>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JSP Page</title>
</head>
<body>
<h1>Welcome <b><f:out
value="${param.txtId}"></f:out></b></h1><br>
<a href="HomeServlet">Click to view Home Page</a>
</body>
</html>
HomeServlet.java
package demoA;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.ejb.EJB;
import mybean.Bean;
public class HomeServlet extends HttpServlet {
@EJB Bean obj;
protected void service(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {
PrintWriter out = response.getWriter();
out.println(obj.display());
out.println(" ");
}
}
Bean.java
package mybean;
import javax.ejb.Stateless;
@Stateless
public class Bean {
public String display()
{
return "This is the home page";
}
}